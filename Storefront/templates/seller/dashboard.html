{% extends "seller/base.html" %}

{% block seller_content %}

<!-- PAGE HEADER -->
<div class="flex items-center justify-between mb-8">
  <h1 class="text-3xl font-semibold text-white">
    Seller Dashboard
  </h1>

  <a href="{% url 'playground:seller_add_product' %}"
     class="bg-green-600 hover:bg-green-500 text-white px-5 py-2.5 rounded-lg font-medium transition shadow">
    + Add Product
  </a>
</div>

<!-- KPI CARDS -->
<div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10">

  <div class="bg-gray-900 border border-gray-800 p-6 rounded-2xl">
    <p class="text-sm text-gray-400 mb-1">
      Total Revenue
    </p>
    <p class="text-2xl font-bold text-green-400">
      ₹ {{ analytics.total_revenue }}
    </p>
  </div>

  <div class="bg-gray-900 border border-gray-800 p-6 rounded-2xl">
    <p class="text-sm text-gray-400 mb-1">
      Items Sold
    </p>
    <p class="text-2xl font-bold text-white">
      {{ analytics.total_items }}
    </p>
  </div>

  <div class="bg-gray-900 border border-gray-800 p-6 rounded-2xl">
    <p class="text-sm text-gray-400 mb-1">
      Orders
    </p>
    <p class="text-2xl font-bold text-white">
      {{ analytics.total_orders }}
    </p>
  </div>

</div>

<!-- ANALYTICS LINK -->
<a href="{% url 'playground:seller_analytics' %}"
   class="inline-block mb-8 text-sm font-medium text-blue-400 hover:text-blue-300 transition">
  View detailed analytics →
</a>

<!-- PRODUCTS -->
{% if products %}
  <div class="grid grid-cols-1 md:grid-cols-3 gap-6">

    {% for product in products %}
      <div class="bg-gray-900 border border-gray-800 p-5 rounded-2xl hover:border-gray-700 transition">

        <h2 class="text-lg font-semibold text-white truncate">
          {{ product.title }}
        </h2>

        <p class="text-blue-400 font-semibold mt-1">
          ₹{{ product.get_current_price }}
        </p>

        <p class="text-sm text-gray-400 mt-1">
          Stock: {{ product.inventory }}
        </p>

        <div class="flex gap-4 mt-4 text-sm">
          <a href="{% url 'playground:seller_edit_product' product.id %}"
             class="text-blue-400 hover:text-blue-300 transition">
            Edit
          </a>

          <a href="{% url 'playground:seller_delete_product' product.id %}"
             class="text-red-400 hover:text-red-300 transition"
             onclick="return confirm('Are you sure?')">
            Remove
          </a>
        </div>

      </div>
    {% endfor %}

  </div>
{% else %}
  <p class="text-gray-500">
    No products yet.
  </p>
{% endif %}

{% endblock %}
